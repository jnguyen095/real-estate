/**
 * Created by Khang Nguyen on 10/11/2017.
 * khang.nguyen@banvien.com
 */
function changeIconMoreLess(e){"open"==e.data("status")?(e.html("Ít hơn"),e.data("status","close"),e.removeClass("toggleMore").addClass("toggleLess")):(e.html("Xem thêm"),e.data("status","open"),e.removeClass("toggleLess").addClass("toggleMore"))}function subscribleHandler(){$("#btnSubscrible").click(function(e){var t=$("#sbEmail").val();null!=t&&isValidEmail(t)?(ga("send",{hitType:"event",eventCategory:"Subscrible",eventAction:"Subscrible email",eventLabel:"Subscrible"}),jQuery.ajax({type:"POST",url:urls.addSubscribleUrl,dataType:"json",data:{email:t},success:function(e){"success"==e?$("#subcribleMes").html("<span class='subscrible-success'>Đăng ký theo dõi thành công.</span>"):$("#subcribleMes").html("<span class='subscrible-danger'>Email này đã tồn tại.</span>")}})):$("#subcribleMes").html("<span class='subscrible-danger'>Email không đúng định dạng.</span>")})}function isValidEmail(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function loadSearchDistrictByCityId(){$("#cmCityId").change(function(){var e=$(this).val();jQuery.ajax({type:"POST",url:urls.loadDistrictByCityId,dataType:"json",data:{cityId:e},success:function(e){document.getElementById("cmDistrictId").options.length=1;for(key in e)$("#cmDistrictId").append("<option value='"+e[key].DistrictID+"'>"+e[key].DistrictName+"</option>")}})})}function socialLogin(e,t,s,a){jQuery.ajax({type:"POST",url:urls.social_login_url,dataType:"json",data:{username:e,password:t,fullname:s},success:a})}function submitSearchForm(){$("#btnSearch").click(function(){ga("send",{hitType:"event",eventCategory:"Search",eventAction:"Tìm kiếm",eventLabel:"Tìm kiếm"}),$("form#search_form").submit()})}$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip(),loadSearchDistrictByCityId(),submitSearchForm(),subscribleHandler(),$(".toggleBtn").click(function(){changeIconMoreLess($(this))})});
